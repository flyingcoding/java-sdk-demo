# 🚀 一键压测快速入门

## 新增工具总览

本次新增了两个自动化压测工具，让你无需手动生成用户文件，一行命令完成所有压测！

### ⚡ 工具1：QuickParallelPerf（超快速）

**零参数启动，3秒上手！**

```bash
cd dist
./quick-perf.sh
```

就这么简单！工具会自动：
- 生成500个用户
- 执行5000笔转账
- TPS为100
- 自动验证结果

### 🎯 工具2：AutoParallelOkPerf（详细模式）

**完全自定义，详细输出！**

```bash
cd dist
./auto-perf.sh 1 1000 10000 100
```

参数：`[群组ID] [用户数] [交易数] [TPS]`

### 🧩 工具3：QuickParallelMultiGroupPerf（多群组快速）

**一行命令，多群组并发压测！**

```bash
cd dist
java -cp 'conf/:lib/*:apps/*' org.fisco.bcos.sdk.demo.perf.QuickParallelMultiGroupPerf 1,2 500 5000 100
```

- `groupIds` 支持逗号分隔（如 `1,2,3`），每个群组并行部署与压测
- 其他参数为每群组的配额（用户数、交易数、TPS）

### 🧩 工具4：AutoParallelOkMultiGroupPerf（多群组自动化）

**多群组详细模式，带完整进度与验证输出！**

```bash
cd dist
java -cp 'conf/:lib/*:apps/*' org.fisco.bcos.sdk.demo.perf.AutoParallelOkMultiGroupPerf 1,2 1000 10000 200
```

- 逗号分隔群组ID，逐组输出详细进度与验证统计

## 📦 三步开始压测

### 步骤1：配置连接

```bash
# 拷贝证书
cp -r ~/fisco/nodes/127.0.0.1/sdk/* dist/conf/

# 创建配置
cp dist/conf/config-example.toml dist/conf/config.toml
```

### 步骤2：进入目录

```bash
cd dist
```

### 步骤3：运行压测

```bash
# 方式1：超快速（推荐新手）
./quick-perf.sh

# 方式2：自定义参数（单群组）
./auto-perf.sh 1 1000 10000 100

# 方式3：多群组快速（并发多群组）
java -cp 'conf/:lib/*:apps/*' org.fisco.bcos.sdk.demo.perf.QuickParallelMultiGroupPerf 1,2 500 5000 100

# 方式4：多群组自动化（详细进度）
java -cp 'conf/:lib/*:apps/*' org.fisco.bcos.sdk.demo.perf.AutoParallelOkMultiGroupPerf 1,2 1000 10000 200
```

## 💡 常用场景

### 场景1：快速验证功能（单群组）

```bash
./quick-perf.sh 1 100 500 50
```
100个用户，500笔交易，TPS为50

### 场景2：多群组并发压测

```bash
java -cp 'conf/:lib/*:apps/*' org.fisco.bcos.sdk.demo.perf.QuickParallelMultiGroupPerf 1,2 300 3000 80
```
群组1与2同时进行：每组300个用户、3000笔交易、TPS=80

### 场景3：重度压测（多群组详细）

```bash
java -cp 'conf/:lib/*:apps/*' org.fisco.bcos.sdk.demo.perf.AutoParallelOkMultiGroupPerf 1,2,3 1000 20000 300
```
三群组并发，详细输出进度与验证

## ✨ 核心优势

| 对比项 | 旧方式 | 新方式 |
|--------|--------|--------|
| 命令数 | 2条 | **1条** |
| 用户文件 | 需要手动生成 | **自动生成** |
| 操作步骤 | add → transfer | **一次完成** |
| 学习成本 | 需要理解流程 | **零学习** |
| 文件管理 | 需要保存文件 | **无需文件** |

## 🎬 实际效果（多群组快速）

运行多群组快速示例：

```
╔════════════════════════════════════════════════════════════════╗
║        FISCO BCOS 多群组并行转账快速压测工具                  ║
╚════════════════════════════════════════════════════════════════╝

📊 压测配置:
   群组列表      : [1, 2]
   每组用户数    : 500
   每组交易数    : 5000
   每组目标TPS   : 100

[Group 1] ⏳ [1/4] 部署并行合约...
[Group 1] ✅ 合约部署成功: 0x...
[Group 2] ⏳ [1/4] 部署并行合约...
[Group 2] ✅ 合约部署成功: 0x...
...
```

## 📚 更多信息

详细文档请查看：[并行压测使用说明.md](并行压测使用说明.md)

## 🎯 推荐流程

**第一次使用：**
1. 运行 `./quick-perf.sh` 验证环境
2. 查看结果是否正常

**正式压测：**
1. 根据需求选择参数
2. 运行 `./auto-perf.sh` 或多群组工具
3. 根据结果调优参数

**性能调优：**
1. 从小参数开始
2. 观察节点性能
3. 逐步增加TPS

---

**就是这么简单！开始你的压测之旅吧！** 🎉

